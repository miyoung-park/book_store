{"remainingRequest":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/babel-loader/lib/index.js!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/views/admin/book/AddBook.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/views/admin/book/AddBook.vue","mtime":1643261407907},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/babel.config.js","mtime":1641881660483},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9taXlvdW5nL0Rlc2t0b3AvZWJyYWluU29mdF9zdHVkeS9zdHVkeS9wZXJzb25hbF9wcm9qZWN0L2Jvb2tfdmlsbGFnZS9ib29rdmlsbGFnZS9mcm9udC1zaWRlL2FkbWluLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZEJvb2siLAogIGluamVjdDogWydib29rU2VydmljZSddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29rSW5mbzogewogICAgICAgIGJvb2tUaXRsZTogJycsCiAgICAgICAgYm9va1ByaWNlOiAnJywKICAgICAgICBib29rUmVudGFsRmVlOiAnJywKICAgICAgICBib29rTWVtbzogJycKICAgICAgfSwKICAgICAgYm9va0ltYWdlOiB7fSwKICAgICAgdXBsb2FkSW1hZ2VGaWxlOiBbXSwKICAgICAgaXNWaWV3OiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIFRPRE86IEJvb2sg7KCV67O064KYLCDtjIzsnbwsIFVzZXIg7KCV67O0IOuTseydmCDsnKDtmqjshLEg6rKA7IKsIFZhbGlkYXRpb24g66eM65Ok7Ja067O06riwCiAgICBhZGRCb29rOiBmdW5jdGlvbiBhZGRCb29rKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5ib29rU2VydmljZS5hZGRCb29rKF90aGlzLmJvb2tJbmZvLCBfdGhpcy5ib29rSW1hZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBhbGVydCgn64+E7IScIOygleuztOqwgCDrk7HroZ3rkJjsl4jsirXri4jri6QuJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogJy9hZG1pbi9ib29rL2xpc3QnCiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2hvd0ltYWdlOiBmdW5jdGlvbiBzaG93SW1hZ2UoaW1hZ2VzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKGltYWdlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgaWYgKGltYWdlcy5sZW5ndGggPiA0KSB7CiAgICAgICAgICBhbGVydCgn7YyM7J287J2AIDTqsJzquYzsp4Drp4wg7JeF66Gc65OcIOqwgOuKpe2VqeuLiOuLpC4nKTsKICAgICAgICAgIGltYWdlcy5sZW5ndGggPSAwOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgX3RoaXMyLnVwbG9hZEltYWdlRmlsZS5wdXNoKGV2ZW50LnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZXNbaV0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuaXNWaWV3ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdGhpcy51cGxvYWRJbWFnZUZpbGUgPSBbXTsKICAgICAgcmV0dXJuIHRoaXMuaXNWaWV3ID0gZmFsc2U7CiAgICB9LAogICAgcmVzZXRJbWFnZTogZnVuY3Rpb24gcmVzZXRJbWFnZSgpIHsKICAgICAgdGhpcy51cGxvYWRJbWFnZUZpbGUgPSBbXTsKICAgICAgdGhpcy5pc1ZpZXcgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["AddBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,MAAA,EAAA,CAAA,aAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,SAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA,EAFA;AAGA,QAAA,aAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OADA;AAOA,MAAA,SAAA,EAAA,EAPA;AAQA,MAAA,eAAA,EAAA,EARA;AASA,MAAA,MAAA,EAAA;AATA,KAAA;AAWA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,OAFA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,WAAA,CAAA,OAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,SAAA,CADA;;AAAA;AAEA,gBAAA,KAAA,CAAA,iBAAA,CAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,kBAAA,IAAA,EAAA;AADA,iBAAA,EAEA,KAFA,CAEA,UAAA,CAAA,EAAA;AAAA,kBAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AAAA,iBAFA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KARA;AASA,IAAA,SATA,qBASA,MATA,EASA;AAAA;;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,sBAAA,CAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,CAAA;AACA;AACA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,cAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,UAAA,KAAA,EAAA;AACA,YAAA,MAAA,CAAA,eAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA;AACA,WAFA;;AAGA,UAAA,MAAA,CAAA,aAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AACA;;AACA,eAAA,KAAA,MAAA,GAAA,IAAA;AACA;;AACA,WAAA,eAAA,GAAA,EAAA;AACA,aAAA,KAAA,MAAA,GAAA,KAAA;AACA,KA3BA;AA4BA,IAAA,UA5BA,wBA4BA;AACA,WAAA,eAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA;AA/BA;AAhBA,CAAA","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"input_section\">\n        <div class=\"field_section\">\n          <v-text-field\n              v-model=\"bookInfo.bookTitle\"\n              label=\"도서제목\"\n              required\n          ></v-text-field>\n          <v-text-field\n              v-model=\"bookInfo.bookPrice\"\n              label=\"도서가격\"\n              required\n          ></v-text-field>\n          <v-text-field\n              v-model=\"bookInfo.bookRentalFee\"\n              label=\"대여료\"\n              required\n          ></v-text-field>\n          <v-text-field\n              v-model=\"bookInfo.bookMemo\"\n              :counter=\"100\"\n              label=\"개요\"\n              required\n          ></v-text-field>\n          <v-file-input\n            v-model=\"bookImage\"\n            truncate-length=\"15\"\n            label=\"도서이미지\"\n            multiple\n            @change=\"showImage\"\n            @click=\"resetImage\"\n          ></v-file-input>\n        </div>\n\n      <div class=\"image_section\" v-if=\"isView\">\n        <div v-for=\"imageUrl in uploadImageFile\" :key=\"imageUrl\">\n          <div class=\"image\">\n            <img class=\"previewImage\" :src=\"imageUrl\">\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"btn_section\">\n      <v-btn class=\"mr-4\" @click=\"addBook\" style=\"background-color: #FFE082\">등록하기</v-btn>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"AddBook\",\n  inject: ['bookService'],\n  data(){\n    return{\n      bookInfo: {\n        bookTitle: '',\n        bookPrice: '',\n        bookRentalFee: '',\n        bookMemo: '',\n       },\n      bookImage: {},\n      uploadImageFile: [],\n      isView: false\n    }\n  },\n  methods: {\n    // TODO: Book 정보나, 파일, User 정보 등의 유효성 검사 Validation 만들어보기\n    async addBook(){\n      await this.bookService.addBook(this.bookInfo , this.bookImage);\n      alert('도서 정보가 등록되었습니다.');\n      this.$router.push({\n        path: '/admin/book/list'\n      }).catch(e => {console.log(e)})\n    },\n    showImage(images){\n      if( images.length > 0 ) {\n        if( images.length > 4) {\n          alert('파일은 4개까지만 업로드 가능합니다.');\n          images.length = 0;\n          return;\n        }\n        for( let i = 0; i < images.length; i++){\n          const reader = new FileReader();\n          reader.onload = event => {\n            this.uploadImageFile.push(event.target.result);\n          }\n          reader.readAsDataURL(images[i])\n        }\n        return this.isView = true;\n      }\n      this.uploadImageFile = [];\n      return this.isView = false;\n    },\n    resetImage(){\n      this.uploadImageFile = [];\n      this.isView = false;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.content {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n}\n.input_section {\n  width: 80%;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 30px;\n}\n.field_section {\n  width: 50%;\n  margin-right: 50px;\n}\n.btn_section{\n  width: 50%;\n  display: flex;\n  justify-content: center;\n}\n.image_section {\n  width: 50%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  margin: auto;\n}\n.previewImage {\n  width: 100px;\n  height: 150px;\n}\n.image {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n}\n</style>"],"sourceRoot":"src/views/admin/book"}]}