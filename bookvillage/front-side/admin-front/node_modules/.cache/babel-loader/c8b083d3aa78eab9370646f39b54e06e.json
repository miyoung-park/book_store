{"remainingRequest":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/babel-loader/lib/index.js!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/eslint-loader/index.js??ref--14-0!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/service/bookService.js","dependencies":[{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/service/bookService.js","mtime":1642575318928},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/babel.config.js","mtime":1641881660483},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvbWl5b3VuZy9EZXNrdG9wL2VicmFpblNvZnRfc3R1ZHkvc3R1ZHkvcGVyc29uYWxfcHJvamVjdC9ib29rX3ZpbGxhZ2UvYm9va3ZpbGxhZ2UvZnJvbnQtc2lkZS9hZG1pbi1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9taXlvdW5nL0Rlc2t0b3AvZWJyYWluU29mdF9zdHVkeS9zdHVkeS9wZXJzb25hbF9wcm9qZWN0L2Jvb2tfdmlsbGFnZS9ib29rdmlsbGFnZS9mcm9udC1zaWRlL2FkbWluLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCAkYXhpb3NJbnN0IGZyb20gIkAvYXhpb3MvQXhpb3NJbnN0IjsKaW1wb3J0IHsgYWRtaW5SZXNwb25zZUFwaSB9IGZyb20gIkAvdXRpbC9BZG1pblJlc3BvbnNlQXBpIjsKZXhwb3J0IHZhciBib29rU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gYm9va1NlcnZpY2UoaG9zdCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIGJvb2tTZXJ2aWNlKTsKCiAgICB0aGlzLmhvc3QgPSBob3N0OwogIH0KCiAgX2NyZWF0ZUNsYXNzKGJvb2tTZXJ2aWNlLCBbewogICAga2V5OiAiYWRkQm9vayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQm9vayhib29rT2JqLCBib29rSW1hZ2VzKSB7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOyAvLyBUT0RPOiBmb3Ig66y47Jy866GcIOuzgO2ZmO2VtOuztOq4sCBrZXkg6rCSIOu9keyVhOyEnCAhICjsmYQpCgogICAgICBmb3IgKHZhciBrZXkgaW4gYm9va09iaikgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIGJvb2tPYmpba2V5XSk7CiAgICAgIH0KCiAgICAgIGlmIChib29rSW1hZ2VzICE9IG51bGwpIHsKICAgICAgICBmb3IgKHZhciBfa2V5IGluIGJvb2tJbWFnZXMpIHsKICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZXMnLCBib29rSW1hZ2VzW19rZXldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAkYXhpb3NJbnN0LnBvc3QoIiIuY29uY2F0KHRoaXMuaG9zdCwgIi9ib29rL2FkZC8iKSwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdGhyb3cgYWRtaW5SZXNwb25zZUFwaShlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEJvb2tMaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRCb29rTGlzdCgpIHsKICAgICAgcmV0dXJuICRheGlvc0luc3QuZ2V0KCIiLmNvbmNhdCh0aGlzLmhvc3QsICIvYm9vay9saXN0IikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdGhyb3cgYWRtaW5SZXNwb25zZUFwaShlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEJvb2tEZXRhaWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJvb2tEZXRhaWwoYm9va1NlcSkgewogICAgICByZXR1cm4gJGF4aW9zSW5zdC5nZXQoIiIuY29uY2F0KHRoaXMuaG9zdCwgIi9ib29rL2RldGFpbC8iKSArIGJvb2tTZXEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHRocm93IGFkbWluUmVzcG9uc2VBcGkoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVCb29rIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb29rKGJvb2tPYmosIG5ld0ltYWdlcywgZGVsZXRlRmlsZXMpIHsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CgogICAgICBmb3IgKHZhciBrZXkgaW4gYm9va09iaikgewogICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIGJvb2tPYmpba2V5XSk7CiAgICAgIH0KCiAgICAgIGlmIChuZXdJbWFnZXMgIT0gbnVsbCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3SW1hZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGVzJywgbmV3SW1hZ2VzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChkZWxldGVGaWxlcyAhPSBudWxsKSB7CiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGRlbGV0ZUZpbGVzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdkZWxldGVGaWxlcycsIGRlbGV0ZUZpbGVzW19pXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gJGF4aW9zSW5zdC5wdXQoIiIuY29uY2F0KHRoaXMuaG9zdCwgIi9ib29rL3VwZGF0ZS8iKSArIGJvb2tPYmouYm9va1NlcSwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdGhyb3cgYWRtaW5SZXNwb25zZUFwaShlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImRlbGV0ZUJvb2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUJvb2soYm9va1NlcSkgewogICAgICByZXR1cm4gJGF4aW9zSW5zdC5kZWxldGUoIiIuY29uY2F0KHRoaXMuaG9zdCwgIi9ib29rL2RlbGV0ZS8iKSArIGJvb2tTZXEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgdGhyb3cgYWRtaW5SZXNwb25zZUFwaShlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIGJvb2tTZXJ2aWNlOwp9KCk7"},{"version":3,"sources":["/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/service/bookService.js"],"names":["$axiosInst","adminResponseApi","bookService","host","bookObj","bookImages","formData","FormData","key","append","post","then","response","data","catch","error","get","bookSeq","newImages","deleteFiles","i","length","put","delete"],"mappings":"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","sourcesContent":["import $axiosInst from \"@/axios/AxiosInst\";\nimport {adminResponseApi} from \"@/util/AdminResponseApi\";\n\nexport class bookService {\n\n    constructor(host) {\n        this.host = host;\n    }\n\n    addBook(bookObj , bookImages){\n        let formData = new FormData();  // TODO: for 문으로 변환해보기 key 값 뽑아서 ! (완)\n        for( let key in bookObj ){\n            formData.append(key ,bookObj[key])\n        }\n        if(bookImages != null){\n            for( let key in bookImages ){\n                formData.append('files' ,bookImages[key])\n            }\n        }\n        return $axiosInst\n            .post(`${this.host}/book/add/`, formData )\n            .then( response => {\n                return response.data.data;\n            }).catch( error => {\n                throw adminResponseApi(error);\n            })\n    }\n\n    getBookList(){\n        return $axiosInst\n            .get(`${this.host}/book/list`)\n            .then( response => {\n                return response.data.data;\n            }).catch( error => {\n                throw adminResponseApi(error);\n            })\n    }\n\n    getBookDetail(bookSeq){\n        return $axiosInst\n            .get(`${this.host}/book/detail/` + bookSeq)\n            .then( response => {\n                return response.data;\n            }).catch(error => {\n                throw adminResponseApi(error);\n            })\n    }\n\n    updateBook(bookObj , newImages , deleteFiles) {\n        const formData = new FormData();\n        for( let key in bookObj ){\n            formData.append(key ,bookObj[key])\n        }\n\n        if(newImages != null){\n            for(let i = 0 ; i < newImages.length; i ++){\n                formData.append('files' , newImages[i]);\n            }\n        }\n        if(deleteFiles != null){\n            for(let i = 0; i < deleteFiles.length; i++){\n                formData.append('deleteFiles' , deleteFiles[i])\n            }\n        }\n        return $axiosInst\n            .put(`${this.host}/book/update/` + bookObj.bookSeq, formData )\n            .then( response => {\n                return response.data.data;\n            }).catch( error => {\n                throw adminResponseApi(error);\n            })\n\n    }\n\n    deleteBook(bookSeq){\n        return $axiosInst\n            .delete(`${this.host}/book/delete/` + bookSeq)\n            .then( response => {\n                return response.data.data;\n            }).catch( error => {\n                throw adminResponseApi(error);\n            })\n    }\n\n\n\n}"]}]}