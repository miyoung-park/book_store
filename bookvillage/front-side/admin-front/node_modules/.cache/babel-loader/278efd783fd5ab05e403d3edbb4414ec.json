{"remainingRequest":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/babel-loader/lib/index.js!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/eslint-loader/index.js??ref--14-0!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/plugins/api-service-plugin/index.js","dependencies":[{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/plugins/api-service-plugin/index.js","mtime":1643171383495},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/babel.config.js","mtime":1641881660483},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLyBpbXBvcnQgVnVlIGZyb20gInZ1ZSI7Ci8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Ci8vIGltcG9ydCBfIGZyb20gJ2xvZGFzaCc7Ci8vIGltcG9ydCBBcGlTZXJ2aWNlRmFjdG9yeSBmcm9tICIuL2FwaS1zZXJ2aWNlLWZhY3RvcnkiOwppbXBvcnQgeyBzdG9yZSB9IGZyb20gJ0Avc3RvcmUvaW5kZXgnOwppbXBvcnQgQXBpU2VydmljZUVycm9yIGZyb20gIi4vYXBpLXNlcnZpY2UtZXJyb3IiOwppbXBvcnQgeyBBcGlTZXJ2aWNlRXJyb3JFdmVudEJ1cyB9IGZyb20gJy4vYXBpLXNlcnZpY2UtZXJyb3InOwp2YXIgQXBpU2VydmljZXMgPSB7CiAgaW5zdGFsbDogZnVuY3Rpb24gaW5zdGFsbChWdWUsIG9wdGlvbnMpIHsKICAgIC8qKiBFdmVudCBlbWl0dGVyICoqLwogICAgdmFyIHNlcnZpY2VFcnJvckV2ZW50QnVzID0gbmV3IEFwaVNlcnZpY2VFcnJvckV2ZW50QnVzKCk7IC8vIOunjOuTpOyWtCDrhpPsnYAg7J2067Kk7Yq47JeQIOq0gOyLrOyeiOycvOuptCDslYzroKTso7zripQg7Jqp64+ECgogICAgLyoqIERlZmF1bHQgZXJyb3IgaGFuZGxlciAqKi8KICAgIC8vIFRPRE86IO2VnOuyiOyXkCDsspjrpqzrkJjquLgg7JuQ7ZWY64qULCDqs7XthrXrkJjripQg7JeQ65+s66Gc7KeB7J2AIOyghOyXreyggeycvOuhnCDsspjrpqztlbTso7zquLAoIO2GoO2BsOusuOygnOuhnCDsnbjtlZwg66Gc6re47JWE7JuDIOyymOumrCApICjsmYQpCiAgICAvLyA6IOyXkOufrOyymOumrCDroZzsp4HsnbQg66y07KGw6rG0IOydtCDsnITsuZjsl5Ag7J6I7J2EIO2VhOyalOuKlCDsl4bsp4Drp4wg6re466CH64uk6rOgIOyXrOq4sCDsoIDquLDshJwg7IKs7Jqp65CY7ISc64+EIOyViOuQnOuLpC4g67CY65Oc7IucIOydmOuPhO2VnCDsvIDsnbTsiqTroZwg65CY6rKM64GUIOyxheyehOyekCDtlZwg66qF7J20IOuwleyVhOuRkOqzoCDsjajslbwg7ZWc64ukLgoKICAgIHNlcnZpY2VFcnJvckV2ZW50QnVzLnNldERlZmF1bHRFcnJvckhhbmRsZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIGVycm9yQ29kZSA9IGUuZXJyb3JDb2RlOwogICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZS5lcnJvck1lc3NhZ2U7CgogICAgICBpZiAoZXJyb3JDb2RlID09ICc2MTAnIHx8IGVycm9yQ29kZSA9PSAnNjIwJyB8fCBlcnJvckNvZGUgPT0gJzYzMCcpIHsKICAgICAgICAvLyBUb2tlbiBFcnJvcgogICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7CiAgICAgICAgc3RvcmUuY29tbWl0KCdsb2dvdXQnKTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coIm15IHNpdGUgZGVmYXVsdCBoYW5kbGVyICIuY29uY2F0KGUudG9TdHJpbmcoKSkpOwogICAgfSk7CiAgICAvKioKICAgICAqIOyghOyXrSDrqZTshozrk5wKICAgICAqIEBwYXJhbSBlcnJvckNvZGUKICAgICAqIEBwYXJhbSBoYW5kbGVyCiAgICAgKiBAcGFyYW0gcHJvcGFnYXRpb24KICAgICAqLwoKICAgIFZ1ZS5wcm90b3R5cGUuJGFkZEFwaUVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChlcnJvckNvZGUsIGhhbmRsZXIsIHByb3BhZ2F0aW9uKSB7CiAgICAgIHNlcnZpY2VFcnJvckV2ZW50QnVzLm9uKGVycm9yQ29kZSwgaGFuZGxlciwgcHJvcGFnYXRpb24pOwogICAgfTsKCiAgICBWdWUucHJvdG90eXBlLiRyZW1vdmVBcGlFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoZXJyb3JDb2RlLCBoYW5kbGVyKSB7CiAgICAgIHNlcnZpY2VFcnJvckV2ZW50QnVzLm9mZihlcnJvckNvZGUsIGhhbmRsZXIpOwogICAgfTsKCiAgICBWdWUucHJvdG90eXBlLiRyZW1vdmVBcGlFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikgewogICAgICBzZXJ2aWNlRXJyb3JFdmVudEJ1cy5vZmYoaGFuZGxlcik7CiAgICB9OwogICAgLyoqCiAgICAgKiBUT0RPOiBWdWUg7J6Q7LK0IOq4sOuKpSDspJEg7ZWY64KYLCBWdWUgZG9jdW1lbnQg7LC46rOgICEKICAgICAqIDog7J6h7Z6I7KeAIOyViuydgCDsmKTrpZjsl5Ag64yA7ZWcIO2VuOuTpOufrOulvCDtlaDri7ntlZjripQg7Jet7ZWgLCDtlbjrk6Trn6zripQg7Jik66WYIOuwjyBWdWUg7J247Iqk7YS07Iqk7JmAIO2VqOq7mCDtmLjstpzrkJzri6QuCiAgICAgKiovCgoKICAgIFZ1ZS5jb25maWcuZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGVyciwgdm0sIGluZm8pIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycwogICAgICBpZiAoZXJyIGluc3RhbmNlb2YgQXBpU2VydmljZUVycm9yKSB7CiAgICAgICAgc2VydmljZUVycm9yRXZlbnRCdXMuZW1pdChlcnIuZXJyb3JDb2RlLCBlcnIpOwogICAgICB9IC8vIFRPRE86IEFQSeyXkOufrOqwgCDslYTri4wg6rK97JqwID8g64iE6rWw6rCAIOyymOumrO2VmOqyjOuBlCDri6Tsi5wg642Y7KC47KSY7JW87ZWoICgg64KY7KSR7JeQIOyymOumrO2VoCDrrLjsoJwgKQoKICAgIH07CiAgICAvKiogaW5qZWN0IHNlcnZpY2UKICAgIGNvbnN0IGFwaVNlcnZpY2VGYWN0b3J5ID0gbmV3IEFwaVNlcnZpY2VGYWN0b3J5KCB7aG9zdDpvcHRpb25zLmhvc3R9ICk7CiAgICBfLmZvckVhY2goIGFwaVNlcnZpY2VGYWN0b3J5Lm1ha2VCYXNlU2VydmljZXMoKSAsIGZ1bmN0aW9uKHNlcnZpY2UsIHNlcnZpY2VOYW1lKSB7CiAgICAgICAgVnVlLnByb3RvdHlwZVtzZXJ2aWNlTmFtZV0gPSBzZXJ2aWNlOwogICAgfSk7CiAgICBfLmZvckVhY2goIGFwaVNlcnZpY2VGYWN0b3J5Lm1ha2VFeHRTZXJ2aWNlcygiaHR0cHM6Ly9leHQuZG9tYWluLmNvbS8iKSAsIGZ1bmN0aW9uKHNlcnZpY2UsIHNlcnZpY2VOYW1lKSB7CiAgICAgICAgVnVlLnByb3RvdHlwZVtzZXJ2aWNlTmFtZV0gPSBzZXJ2aWNlOwogICAgfSk7ICovCgogIH0KfTsKZXhwb3J0IGRlZmF1bHQgQXBpU2VydmljZXM7"},{"version":3,"sources":["/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/plugins/api-service-plugin/index.js"],"names":["store","ApiServiceError","ApiServiceErrorEventBus","ApiServices","install","Vue","options","serviceErrorEventBus","setDefaultErrorHandler","e","errorCode","errorMessage","alert","commit","console","log","toString","prototype","$addApiErrorHandler","handler","propagation","on","$removeApiErrorHandler","off","config","errorHandler","err","vm","info","emit"],"mappings":";;AAAA;AACA;AACA;AACA;AACA,SAASA,KAAT,QAAsB,eAAtB;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,SAAQC,uBAAR,QAAsC,qBAAtC;AAEA,IAAMC,WAAW,GAAG;AAChBC,EAAAA,OADgB,mBACRC,GADQ,EACFC,OADE,EACO;AAEnB;AACA,QAAMC,oBAAoB,GAAG,IAAIL,uBAAJ,EAA7B,CAHmB,CAG0C;;AAE7D;AACA;AACA;;AACAK,IAAAA,oBAAoB,CAACC,sBAArB,CAA8C,UAACC,CAAD,EAAK;AAC/C,UAAMC,SAAS,GAAGD,CAAC,CAACC,SAApB;AACA,UAAMC,YAAY,GAAGF,CAAC,CAACE,YAAvB;;AAEA,UAAID,SAAS,IAAI,KAAb,IAAsBA,SAAS,IAAI,KAAnC,IAA4CA,SAAS,IAAI,KAA7D,EAAoE;AAAE;AAClEE,QAAAA,KAAK,CAACD,YAAD,CAAL;AACAX,QAAAA,KAAK,CAACa,MAAN,CAAa,QAAb;AACH;;AACDC,MAAAA,OAAO,CAACC,GAAR,mCAAwCN,CAAC,CAACO,QAAF,EAAxC;AACH,KATD;AAWA;AACR;AACA;AACA;AACA;AACA;;AACQX,IAAAA,GAAG,CAACY,SAAJ,CAAcC,mBAAd,GAAoC,UAAWR,SAAX,EAAsBS,OAAtB,EAA+BC,WAA/B,EAA4C;AAC5Eb,MAAAA,oBAAoB,CAACc,EAArB,CAAwBX,SAAxB,EAAmCS,OAAnC,EAA4CC,WAA5C;AACH,KAFD;;AAGAf,IAAAA,GAAG,CAACY,SAAJ,CAAcK,sBAAd,GAAuC,UAAUZ,SAAV,EAAqBS,OAArB,EAA8B;AACjEZ,MAAAA,oBAAoB,CAACgB,GAArB,CAAyBb,SAAzB,EAAmCS,OAAnC;AACH,KAFD;;AAGAd,IAAAA,GAAG,CAACY,SAAJ,CAAcK,sBAAd,GAAuC,UAAWH,OAAX,EAAoB;AACvDZ,MAAAA,oBAAoB,CAACgB,GAArB,CAAyBJ,OAAzB;AACH,KAFD;AAIA;AACR;AACA;AACA;;;AACQd,IAAAA,GAAG,CAACmB,MAAJ,CAAWC,YAAX,GAA0B,UAASC,GAAT,EAAcC,EAAd,EAAkBC,IAAlB,EAAwB;AAAG;AAGjD,UAAIF,GAAG,YAAYzB,eAAnB,EAAoC;AAChCM,QAAAA,oBAAoB,CAACsB,IAArB,CAA2BH,GAAG,CAAChB,SAA/B,EAA2CgB,GAA3C;AACH,OAL6C,CAM9C;;AACH,KAPD;AASA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AACK;AAzDe,CAApB;AA4DA,eAAevB,WAAf","sourcesContent":["// import Vue from \"vue\";\n// import axios from 'axios';\n// import _ from 'lodash';\n// import ApiServiceFactory from \"./api-service-factory\";\nimport { store } from '@/store/index';\nimport ApiServiceError from \"./api-service-error\";\nimport {ApiServiceErrorEventBus} from './api-service-error'\n\nconst ApiServices = {\n    install(Vue , options) {\n\n        /** Event emitter **/\n        const serviceErrorEventBus = new ApiServiceErrorEventBus();  // 만들어 놓은 이벤트에 관심있으면 알려주는 용도\n\n        /** Default error handler **/\n        // TODO: 한번에 처리되길 원하는, 공통되는 에러로직은 전역적으로 처리해주기( 토큰문제로 인한 로그아웃 처리 ) (완)\n        // : 에러처리 로직이 무조건 이 위치에 있을 필요는 없지만 그렇다고 여기 저기서 사용되서도 안된다. 반드시 의도한 케이스로 되게끔 책임자 한 명이 박아두고 써야 한다.\n        serviceErrorEventBus.setDefaultErrorHandler(  (e)=>{\n            const errorCode = e.errorCode;\n            const errorMessage = e.errorMessage;\n\n            if( errorCode == '610' || errorCode == '620' || errorCode == '630') { // Token Error\n                alert(errorMessage);\n                store.commit('logout');\n            }\n            console.log( `my site default handler ${e.toString()}` )\n        });\n\n        /**\n         * 전역 메소드\n         * @param errorCode\n         * @param handler\n         * @param propagation\n         */\n        Vue.prototype.$addApiErrorHandler = function ( errorCode, handler, propagation) {\n            serviceErrorEventBus.on(errorCode, handler, propagation);\n        }\n        Vue.prototype.$removeApiErrorHandler = function (errorCode, handler) {\n            serviceErrorEventBus.off(errorCode,handler);\n        }\n        Vue.prototype.$removeApiErrorHandler = function ( handler) {\n            serviceErrorEventBus.off(handler);\n        }\n\n        /**\n         * TODO: Vue 자체 기능 중 하나, Vue document 참고 !\n         * : 잡히지 않은 오류에 대한 핸들러를 할당하는 역할, 핸들러는 오류 및 Vue 인스턴스와 함께 호출된다.\n         **/\n        Vue.config.errorHandler = function(err, vm, info) {  // eslint-disable-line no-unused-vars\n\n\n            if( err instanceof ApiServiceError ){\n                serviceErrorEventBus.emit( err.errorCode , err);\n            }\n            // TODO: API에러가 아닌 경우 ? 누군가 처리하게끔 다시 던져줘야함 ( 나중에 처리할 문제 )\n        }\n\n        /** inject service\n        const apiServiceFactory = new ApiServiceFactory( {host:options.host} );\n        _.forEach( apiServiceFactory.makeBaseServices() , function(service, serviceName) {\n            Vue.prototype[serviceName] = service;\n        });\n        _.forEach( apiServiceFactory.makeExtServices(\"https://ext.domain.com/\") , function(service, serviceName) {\n            Vue.prototype[serviceName] = service;\n        }); */\n    }\n};\n\nexport default ApiServices;\n"]}]}