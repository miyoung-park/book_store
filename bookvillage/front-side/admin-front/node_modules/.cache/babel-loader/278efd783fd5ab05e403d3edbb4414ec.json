{"remainingRequest":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/babel-loader/lib/index.js!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/eslint-loader/index.js??ref--14-0!/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/plugins/api-service-plugin/index.js","dependencies":[{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/plugins/api-service-plugin/index.js","mtime":1642746797838},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/babel.config.js","mtime":1641881660483},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLyBpbXBvcnQgVnVlIGZyb20gInZ1ZSI7Ci8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Ci8vIGltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCBBcGlTZXJ2aWNlRXJyb3IgZnJvbSAiLi9hcGktc2VydmljZS1lcnJvciI7IC8vIGltcG9ydCBBcGlTZXJ2aWNlRmFjdG9yeSBmcm9tICIuL2FwaS1zZXJ2aWNlLWZhY3RvcnkiOwoKaW1wb3J0IHsgQXBpU2VydmljZUVycm9yRXZlbnRCdXMgfSBmcm9tICcuL2FwaS1zZXJ2aWNlLWVycm9yJzsKdmFyIEFwaVNlcnZpY2VzID0gewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlKSB7CiAgICAvKiogZXZlbnQgZW1pdHRlciAqKi8KICAgIHZhciBzZXJ2aWNlRXJyb3JFdmVudEJ1cyA9IG5ldyBBcGlTZXJ2aWNlRXJyb3JFdmVudEJ1cygpOyAvLyDrp4zrk6TslrQg64aT7J2AIOydtOuypO2KuOyXkCDqtIDsi6zsnojsnLzrqbQg7JWM66Ck7KO864qUIOyaqeuPhAogICAgLy8gVE9ETzog6rytIOyXrOq4sCDslYgg7J6I7Ja064+EIOuQmOyngOunjCDsl6zquLAg7KCA6riw7IScIOyCrOyaqeuQmOyEnOuPhCDslYjrkJzri6QuIOuwmOuTnOyLnCDsnZjrj4TtlZwg7LyA7J207Iqk66GcIOuQmOqyjOuBlCDssYXsnoTsnpAg7ZWc66qF7J20IOuwleyVhOuRkOqzoCDsjajslbwg7ZWc64ukLgogICAgLy8gVE9ETzog7Jes6riw7ISc64qUIOyghOyXreyggeycvOuhnCDsgqzsmqntlaAg6rKD65Ok7J2AIOyymOumrO2VmOuptCDrkKDrk68gKCDthqDtgbAg66eM66OMIOqwmeydgC4uLiApIChlKeulvCDquYzrs7TrqbQg7JeQ65+s6rCAIOuCmOyYrCDqsoMuCiAgICAvLyBUT0RPOiDsl6zrn6wg7LKY66as66W8IO2VnCDrsojsl5Ag7ZWY6rOgIOyLtuycvOuptCDrtoTquLDsspjrpqzroZwg7KeE7ZaJCgogICAgLyoqIERlZmF1bHQgZXJyb3IgaGFuZGxlciAqKi8KCiAgICBzZXJ2aWNlRXJyb3JFdmVudEJ1cy5zZXREZWZhdWx0RXJyb3JIYW5kbGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgIGNvbnNvbGUubG9nKCJteSBzaXRlIGRlZmF1bHQgaGFuZGxlciAiLmNvbmNhdChlLnRvU3RyaW5nKCkpKTsKICAgIH0pOwogICAgLyoqCiAgICAgKiDsoITsl60g66mU7IaM65OcCiAgICAgKiBAcGFyYW0gZXJyb3JDb2RlCiAgICAgKiBAcGFyYW0gaGFuZGxlcgogICAgICogQHBhcmFtIHByb3BhZ2F0aW9uCiAgICAgKi8KCiAgICBWdWUucHJvdG90eXBlLiRhZGRBcGlFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoZXJyb3JDb2RlLCBoYW5kbGVyLCBwcm9wYWdhdGlvbikgewogICAgICBzZXJ2aWNlRXJyb3JFdmVudEJ1cy5vbihlcnJvckNvZGUsIGhhbmRsZXIsIHByb3BhZ2F0aW9uKTsKICAgIH07CgogICAgVnVlLnByb3RvdHlwZS4kcmVtb3ZlQXBpRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGVycm9yQ29kZSwgaGFuZGxlcikgewogICAgICBzZXJ2aWNlRXJyb3JFdmVudEJ1cy5vZmYoZXJyb3JDb2RlLCBoYW5kbGVyKTsKICAgIH07CgogICAgVnVlLnByb3RvdHlwZS4kcmVtb3ZlQXBpRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHsKICAgICAgc2VydmljZUVycm9yRXZlbnRCdXMub2ZmKGhhbmRsZXIpOwogICAgfTsKICAgIC8qKgogICAgICogVE9ETzogVnVlIOyekOyytCDquLDriqUg7KSRIO2VmOuCmCwgVnVlIGRvY3VtZW50IOywuOqzoCAhCiAgICAgKiovCgoKICAgIFZ1ZS5jb25maWcuZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGVyciwgdm0sIGluZm8pIHsKICAgICAgY29uc29sZS5sb2codm0sIGluZm8pOwoKICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEFwaVNlcnZpY2VFcnJvcikgewogICAgICAgIHNlcnZpY2VFcnJvckV2ZW50QnVzLmVtaXQoZXJyLmVycm9yQ29kZSwgZXJyKTsKICAgICAgfSAvLyBUT0RPOiBBUEnsl5Drn6zqsIAg7JWE64uMIOqyveyasCA/IOuIhOq1sOqwgCDsspjrpqztlZjqsozrgZQg64uk7IucIOuNmOyguOykmOyVvO2VqCAoIOuCmOykkeyXkCDsspjrpqztlaAg66y47KCcICkKCiAgICB9OwogICAgLyoqIGluamVjdCBzZXJ2aWNlCiAgICBjb25zdCBhcGlTZXJ2aWNlRmFjdG9yeSA9IG5ldyBBcGlTZXJ2aWNlRmFjdG9yeSgge2hvc3Q6b3B0aW9ucy5ob3N0fSApOwogICAgXy5mb3JFYWNoKCBhcGlTZXJ2aWNlRmFjdG9yeS5tYWtlQmFzZVNlcnZpY2VzKCkgLCBmdW5jdGlvbihzZXJ2aWNlLCBzZXJ2aWNlTmFtZSkgewogICAgICAgIFZ1ZS5wcm90b3R5cGVbc2VydmljZU5hbWVdID0gc2VydmljZTsKICAgIH0pOwogICAgXy5mb3JFYWNoKCBhcGlTZXJ2aWNlRmFjdG9yeS5tYWtlRXh0U2VydmljZXMoImh0dHBzOi8vZXh0LmRvbWFpbi5jb20vIikgLCBmdW5jdGlvbihzZXJ2aWNlLCBzZXJ2aWNlTmFtZSkgewogICAgICAgIFZ1ZS5wcm90b3R5cGVbc2VydmljZU5hbWVdID0gc2VydmljZTsKICAgIH0pOyAqLwoKICB9Cn07CmV4cG9ydCBkZWZhdWx0IEFwaVNlcnZpY2VzOw=="},{"version":3,"sources":["/Users/miyoung/Desktop/ebrainSoft_study/study/personal_project/book_village/bookvillage/front-side/admin-front/src/plugins/api-service-plugin/index.js"],"names":["ApiServiceError","ApiServiceErrorEventBus","ApiServices","install","Vue","serviceErrorEventBus","setDefaultErrorHandler","e","console","log","toString","prototype","$addApiErrorHandler","errorCode","handler","propagation","on","$removeApiErrorHandler","off","config","errorHandler","err","vm","info","emit"],"mappings":";;AAAA;AACA;AACA;AAEA,OAAOA,eAAP,MAA4B,qBAA5B,C,CACA;;AACA,SAAQC,uBAAR,QAAsC,qBAAtC;AAEA,IAAMC,WAAW,GAAG;AAChBC,EAAAA,OADgB,mBACRC,GADQ,EACH;AAET;AACA,QAAMC,oBAAoB,GAAG,IAAIJ,uBAAJ,EAA7B,CAHS,CAGoD;AAE7D;AACA;AACA;;AACA;;AACAI,IAAAA,oBAAoB,CAACC,sBAArB,CAA8C,UAACC,CAAD,EAAK;AAC/CC,MAAAA,OAAO,CAACC,GAAR,mCAAwCF,CAAC,CAACG,QAAF,EAAxC;AACH,KAFD;AAGA;AACR;AACA;AACA;AACA;AACA;;AACQN,IAAAA,GAAG,CAACO,SAAJ,CAAcC,mBAAd,GAAoC,UAAWC,SAAX,EAAsBC,OAAtB,EAA+BC,WAA/B,EAA4C;AAC5EV,MAAAA,oBAAoB,CAACW,EAArB,CAAwBH,SAAxB,EAAmCC,OAAnC,EAA4CC,WAA5C;AACH,KAFD;;AAGAX,IAAAA,GAAG,CAACO,SAAJ,CAAcM,sBAAd,GAAuC,UAAUJ,SAAV,EAAqBC,OAArB,EAA8B;AACjET,MAAAA,oBAAoB,CAACa,GAArB,CAAyBL,SAAzB,EAAmCC,OAAnC;AACH,KAFD;;AAGAV,IAAAA,GAAG,CAACO,SAAJ,CAAcM,sBAAd,GAAuC,UAAWH,OAAX,EAAoB;AACvDT,MAAAA,oBAAoB,CAACa,GAArB,CAAyBJ,OAAzB;AACH,KAFD;AAIA;AACR;AACA;;;AACQV,IAAAA,GAAG,CAACe,MAAJ,CAAWC,YAAX,GAA0B,UAASC,GAAT,EAAcC,EAAd,EAAkBC,IAAlB,EAAwB;AAC9Cf,MAAAA,OAAO,CAACC,GAAR,CAAaa,EAAb,EAAkBC,IAAlB;;AACA,UAAIF,GAAG,YAAYrB,eAAnB,EAAoC;AAChCK,QAAAA,oBAAoB,CAACmB,IAArB,CAA2BH,GAAG,CAACR,SAA/B,EAA2CQ,GAA3C;AACH,OAJ6C,CAK9C;;AACH,KAND;AAQA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AACK;AAhDe,CAApB;AAmDA,eAAenB,WAAf","sourcesContent":["// import Vue from \"vue\";\n// import axios from 'axios';\n// import _ from 'lodash';\n\nimport ApiServiceError from \"./api-service-error\";\n// import ApiServiceFactory from \"./api-service-factory\";\nimport {ApiServiceErrorEventBus} from './api-service-error'\n\nconst ApiServices = {\n    install(Vue) {\n\n        /** event emitter **/\n        const serviceErrorEventBus = new ApiServiceErrorEventBus();  // 만들어 놓은 이벤트에 관심있으면 알려주는 용도\n\n        // TODO: 꼭 여기 안 있어도 되지만 여기 저기서 사용되서도 안된다. 반드시 의도한 케이스로 되게끔 책임자 한명이 박아두고 써야 한다.\n        // TODO: 여기서는 전역적으로 사용할 것들은 처리하면 될듯 ( 토큰 만료 같은... ) (e)를 까보면 에러가 나올 것.\n        // TODO: 여러 처리를 한 번에 하고 싶으면 분기처리로 진행\n        /** Default error handler **/\n        serviceErrorEventBus.setDefaultErrorHandler(  (e)=>{\n            console.log( `my site default handler ${e.toString()}` )\n        });\n        /**\n         * 전역 메소드\n         * @param errorCode\n         * @param handler\n         * @param propagation\n         */\n        Vue.prototype.$addApiErrorHandler = function ( errorCode, handler, propagation) {\n            serviceErrorEventBus.on(errorCode, handler, propagation);\n        }\n        Vue.prototype.$removeApiErrorHandler = function (errorCode, handler) {\n            serviceErrorEventBus.off(errorCode,handler);\n        }\n        Vue.prototype.$removeApiErrorHandler = function ( handler) {\n            serviceErrorEventBus.off(handler);\n        }\n\n        /**\n         * TODO: Vue 자체 기능 중 하나, Vue document 참고 !\n         **/\n        Vue.config.errorHandler = function(err, vm, info) {\n            console.log( vm , info)\n            if( err instanceof ApiServiceError ){\n                serviceErrorEventBus.emit( err.errorCode , err);\n            }\n            // TODO: API에러가 아닌 경우 ? 누군가 처리하게끔 다시 던져줘야함 ( 나중에 처리할 문제 )\n        }\n\n        /** inject service\n        const apiServiceFactory = new ApiServiceFactory( {host:options.host} );\n        _.forEach( apiServiceFactory.makeBaseServices() , function(service, serviceName) {\n            Vue.prototype[serviceName] = service;\n        });\n        _.forEach( apiServiceFactory.makeExtServices(\"https://ext.domain.com/\") , function(service, serviceName) {\n            Vue.prototype[serviceName] = service;\n        }); */\n    }\n};\n\nexport default ApiServices;\n"]}]}